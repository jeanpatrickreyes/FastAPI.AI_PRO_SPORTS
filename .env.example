# ============================================================================
# AI PRO SPORTS - Environment Configuration
# ============================================================================
# Version: 2.1.0
# Last Updated: January 2026
#
# IMPORTANT: Copy this file to .env and configure ALL values before deployment.
# Generate secure keys using: openssl rand -hex 64 (for SECRET_KEY, JWT_SECRET_KEY)
# Generate AES key using: openssl rand -hex 32
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME="AI PRO SPORTS"
APP_VERSION="2.1.0"
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# SERVER SETTINGS
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false
TIMEOUT_KEEP_ALIVE=30
MAX_REQUESTS=10000
MAX_REQUESTS_JITTER=1000

# ============================================================================
# SECURITY SETTINGS - CHANGE ALL VALUES IN PRODUCTION!
# ============================================================================
# Generate with: openssl rand -hex 64
SECRET_KEY=CHANGE_ME_generate_with_openssl_rand_hex_64_minimum_64_characters_required

# JWT Configuration
# Generate with: openssl rand -hex 64
JWT_SECRET_KEY=CHANGE_ME_generate_with_openssl_rand_hex_64_minimum_64_characters_required
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# Encryption (AES-256)
# Generate with: openssl rand -hex 32
AES_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
ENCRYPTION_ENABLED=true

# Two-Factor Authentication
TOTP_ENABLED=true
TOTP_ISSUER=AI PRO SPORTS

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Settings
CORS_ORIGINS=["https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# DATABASE SETTINGS - PostgreSQL
# ============================================================================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://ai_pro_sports:CHANGE_ME_secure_password@postgres:5432/ai_pro_sports

# Connection Pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false

# PostgreSQL Container Settings
POSTGRES_USER=ai_pro_sports
POSTGRES_PASSWORD=CHANGE_ME_secure_password
POSTGRES_DB=ai_pro_sports
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ============================================================================
# CACHE SETTINGS - Redis
# ============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# Cache TTL (seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_PREDICTIONS=60
CACHE_TTL_ODDS=30
CACHE_TTL_GAMES=300
CACHE_TTL_STATS=3600

# ============================================================================
# EXTERNAL API SETTINGS
# ============================================================================
# TheOddsAPI - Primary odds source
# Get your key at: https://the-odds-api.com
ODDS_API_KEY=CHANGE_ME_your_odds_api_key
ODDS_API_BASE_URL=https://api.the-odds-api.com/v4
ODDS_API_RATE_LIMIT=500
ODDS_API_TIMEOUT=30

# ESPN API
ESPN_API_ENABLED=true
ESPN_API_BASE_URL=https://site.api.espn.com/apis
ESPN_API_TIMEOUT=30

# ============================================================================
# MACHINE LEARNING SETTINGS
# ============================================================================
# H2O AutoML Configuration
H2O_MAX_MEM_SIZE=32g
H2O_MAX_MODELS=50
H2O_MAX_RUNTIME_SECS=3600
H2O_NTHREADS=-1
H2O_SEED=42

# AutoGluon Configuration
AUTOGLUON_PRESETS=best_quality
AUTOGLUON_TIME_LIMIT=3600
AUTOGLUON_NUM_BAG_FOLDS=8
AUTOGLUON_NUM_STACK_LEVELS=2

# Model Storage
MODEL_STORAGE_PATH=/app/models
MODEL_BACKUP_ENABLED=true
MODEL_BACKUP_PATH=/app/backups/models

# Feature Engineering
FEATURE_CACHE_ENABLED=true
FEATURE_PARALLEL_WORKERS=4

# ============================================================================
# BETTING CONFIGURATION
# ============================================================================
# Kelly Criterion Settings
KELLY_FRACTION=0.25
MAX_BET_PERCENT=0.02
MIN_EDGE_THRESHOLD=0.03
MIN_BET_SIZE=10.00

# Signal Tier Thresholds
SIGNAL_TIER_A_MIN=0.65
SIGNAL_TIER_B_MIN=0.60
SIGNAL_TIER_C_MIN=0.55

# CLV Tracking
CLV_BENCHMARK_SPORTSBOOK=pinnacle
CLV_TRACKING_ENABLED=true

# ============================================================================
# DATA COLLECTION SETTINGS
# ============================================================================
# Collection Intervals (seconds)
ODDS_COLLECTION_INTERVAL=60
GAMES_COLLECTION_INTERVAL=300
SCORES_COLLECTION_INTERVAL=900
GRADING_INTERVAL=900

# Historical Data
HISTORICAL_DATA_YEARS=10
EXCLUDE_COVID_SEASONS=true

# Data Quality
DATA_QUALITY_CHECK_ENABLED=true
DATA_QUALITY_THRESHOLD=0.95

# ============================================================================
# ALERTING CONFIGURATION
# ============================================================================
# Telegram Notifications
TELEGRAM_ENABLED=true
TELEGRAM_BOT_TOKEN=CHANGE_ME_your_telegram_bot_token
TELEGRAM_CHAT_ID=CHANGE_ME_your_telegram_chat_id

# Slack Notifications
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=CHANGE_ME_your_slack_webhook_url

# Email Notifications
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=CHANGE_ME_your_email
SMTP_PASSWORD=CHANGE_ME_your_app_password
SMTP_USE_TLS=true
ALERT_EMAIL=alerts@yourdomain.com

# PagerDuty Integration
PAGERDUTY_ENABLED=false
PAGERDUTY_SERVICE_KEY=CHANGE_ME_your_pagerduty_key

# Datadog Integration
DATADOG_ENABLED=false
DATADOG_API_KEY=CHANGE_ME_your_datadog_api_key

# Alert Settings
ALERT_TIER_A_PREDICTIONS=true
ALERT_HIGH_EDGE=true
ALERT_HIGH_EDGE_THRESHOLD=0.10
ALERT_MODEL_DEGRADATION=true
ALERT_SYSTEM_HEALTH=true

# ============================================================================
# MONITORING SETTINGS
# ============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_secure_password

# Health Checks
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_RETRIES=3

# Self-Healing
SELF_HEALING_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60

# ============================================================================
# SCHEDULER SETTINGS
# ============================================================================
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=UTC

# Job Schedules (cron format)
JOB_ODDS_COLLECTION=*/1 * * * *
JOB_GAMES_COLLECTION=*/5 * * * *
JOB_PREDICTION_GENERATION=0 * * * *
JOB_GRADING=*/15 * * * *
JOB_MODEL_PERFORMANCE=0 0 * * *
JOB_DATA_QUALITY=0 4 * * *
JOB_BACKUP=0 3 * * *

# ============================================================================
# DOCKER SETTINGS
# ============================================================================
# Container Resources
API_MEMORY_LIMIT=8g
API_CPU_LIMIT=4
WORKER_MEMORY_LIMIT=16g
WORKER_CPU_LIMIT=8

# GPU Configuration
GPU_ENABLED=true
CUDA_VISIBLE_DEVICES=0

# Nginx Settings
NGINX_PORT=80
NGINX_SSL_PORT=443
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=4096

# ============================================================================
# BACKUP SETTINGS
# ============================================================================
BACKUP_ENABLED=true
BACKUP_PATH=/app/backups
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true

# Database Backup
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 3 * * *

# Model Backup
MODEL_BACKUP_ENABLED=true
MODEL_BACKUP_SCHEDULE=0 4 * * *

# ============================================================================
# LOGGING SETTINGS
# ============================================================================
LOG_FILE=/var/log/ai_pro_sports/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_JSON_FORMAT=true

# Sentry Error Tracking (Optional)
SENTRY_ENABLED=false
SENTRY_DSN=CHANGE_ME_your_sentry_dsn

# ============================================================================
# DEVELOPMENT SETTINGS (Set to false/disable in production)
# ============================================================================
DEV_MODE=false
MOCK_EXTERNAL_APIS=false
SKIP_AUTH=false
SQL_ECHO=false

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
# After configuring all values:
# 1. Save this file as .env
# 2. Ensure file permissions: chmod 600 .env
# 3. Never commit .env to version control
# 4. Keep a secure backup of your production .env file
# ============================================================================
